(this["webpackJsonpmedium-clone"]=this["webpackJsonpmedium-clone"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a(49),r=a.n(n),i=(a(63),a(3)),o=a(5),l=a(2),j=a(17),b=a.n(j),u=a(10),d={isLoading:!1,isLoggedIn:null,currentUser:null},m=function(e,t){switch(t.type){case"LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case"SET_AUTHORIZED":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isLoggedIn:!0,currentUser:t.payload});case"SET_UNAUTHORIZED":return Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!1});case"LOGOUT":return Object(u.a)(Object(u.a)({},d),{},{isLoggedIn:!1});default:return e}},O=Object(s.createContext)(),f=function(e){var t=e.children,a=Object(s.useReducer)(m,d);return Object(c.jsx)(O.Provider,{value:a,children:t})},_=function(){var e=Object(s.useContext)(O),t=Object(l.a)(e,1)[0],a={color:"#000"};return Object(c.jsxs)("nav",{className:b.a.navbar,children:[Object(c.jsx)(i.b,{to:"/",className:b.a.logo,children:"Medium"}),Object(c.jsx)(i.c,{to:"/",className:b.a.link,activeStyle:a,exact:!0,children:"Home"}),!1===t.isLoggedIn&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(i.c,{to:"/login",className:b.a.link,activeStyle:a,children:"Sign in"}),Object(c.jsx)(i.c,{to:"/register",className:b.a.link,activeStyle:a,children:"Sign up"})]}),t.isLoggedIn&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(i.c,{to:"/articles/new",className:b.a.link,activeStyle:a,children:[Object(c.jsx)("i",{className:"far fa-edit"}),"New Post"]}),Object(c.jsxs)(i.c,{to:"/settings",className:b.a.link,activeStyle:a,children:[Object(c.jsx)("i",{className:"fas fa-cog"}),"Settings"]}),Object(c.jsxs)(i.c,{to:"/profiles/".concat(t.currentUser.username),className:b.a.link,activeStyle:a,children:[Object(c.jsx)("img",{src:t.currentUser.image,alt:"",className:b.a.photo}),t.currentUser.username]})]})]})},g=a(51),h=a.n(g),x=function(e){var t=e.backendError;return Object(c.jsx)("ul",{className:h.a.errors,children:Object.entries(t).map((function(e){var t=Object(l.a)(e,2),a=t[0];return t[1].map((function(e,t){return Object(c.jsxs)("li",{children:[a," ",e]},a+t)}))}))})},p=a(23),v=a(4),N=a.n(v),S=a(29),y=a.n(S),A=a(52),F=a.n(A),C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Object(s.useState)((function(){return localStorage.getItem(e)||t})),c=Object(l.a)(a,2),n=c[0],r=c[1];return Object(s.useEffect)((function(){localStorage.setItem(e,n)}),[n,e]),[n,r]},E=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(null),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(s.useState)(null),d=Object(l.a)(b,2),m=d[0],O=d[1],f=Object(s.useState)({}),_=Object(l.a)(f,2),g=_[0],h=_[1],x=C("token"),p=Object(l.a)(x,1)[0],v=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(e),n(!0)}),[]);return Object(s.useEffect)((function(){var t=!1;if(c){var a=Object(u.a)(Object(u.a)({},g),{},{headers:{authorization:p?"Token ".concat(p):""}});F()("https://conduit.productionready.io/api".concat(e),a).then((function(e){t||(O(e.data),n(!1))})).catch((function(e){t||(j(e.response.data),n(!1)),console.log("error",e)}))}return function(){t=!0}}),[c,e,g,p]),[{isLoading:c,error:o,response:m},v]},k=function(e){var t=e.isFavorited,a=e.favoritesCount,n=e.articleSlug,r=e.hasLabel,i="/articles/".concat(n,"/favorite"),j=E(i),b=Object(l.a)(j,2),u=b[0].response,d=b[1],m=Object(s.useContext)(O),f=Object(l.a)(m,1)[0],_=Object(o.g)(),g=u?u.article.favoritesCount:a,h=u?u.article.favorited:t,x=r?"".concat(h?"Unfavorite":"Favorite"," Article (").concat(g,")"):g;return Object(c.jsxs)("button",{className:N()(y.a.btn,y.a.btnGreen,Object(p.a)({},y.a.btnFavorited,h)),onClick:function(){!1!==f.isLoggedIn?d({method:h?"delete":"post"}):_.push("/login")},children:[Object(c.jsx)("i",{className:N()("fas fa-heart",y.a.icon)}),x]})};k.defaultProps={isFavorited:!1,hasLabel:!1};var L=k,P=a(39),w=a.n(P),U=function(e){var t=e.tags;return Object(c.jsx)("ul",{className:w.a.tagList,children:t.map((function(e){return Object(c.jsx)("li",{className:w.a.tag,children:e},e)}))})},T=a(16),I=a.n(T),D=function(e){var t=e.articles,a=void 0===t?[]:t;return Object(c.jsx)("div",{children:a.map((function(e,t){return Object(c.jsxs)("div",{className:I.a.article,children:[Object(c.jsxs)("div",{className:I.a.row,children:[Object(c.jsxs)("div",{className:I.a.meta,children:[Object(c.jsx)(i.b,{to:"/profiles/".concat(e.author.username),className:I.a.photo,children:Object(c.jsx)("img",{src:e.author.image,alt:""})}),Object(c.jsxs)("div",{className:I.a.info,children:[Object(c.jsx)(i.b,{to:"/profiles/".concat(e.author.username),className:I.a.author,children:Object(c.jsx)("span",{children:e.author.username})}),Object(c.jsx)("span",{className:I.a.date,children:e.createdAt.split("T")[0]})]})]}),Object(c.jsx)(L,{favoritesCount:e.favoritesCount,isFavorited:e.favorited,articleSlug:e.slug,hasLabel:!1})]}),Object(c.jsxs)(i.b,{to:"/articles/".concat(e.slug),children:[Object(c.jsx)("h1",{className:I.a.title,children:e.title}),Object(c.jsx)("p",{className:I.a.description,children:e.description}),Object(c.jsx)("span",{className:I.a.more,children:"Read more..."}),Object(c.jsx)(U,{tags:e.tagList})]})]},t)}))})},B=a(30),G=a.n(B),M=function(e){var t=e.page,a=e.currentPage,s=e.url,n=N()(G.a.item,Object(p.a)({},G.a.active,a===t));return Object(c.jsx)("li",{className:n,children:Object(c.jsx)(i.b,{to:"".concat(s,"?page=").concat(t),className:G.a.link,children:t})})},R=function(e){var t=e.total,a=e.limit,s=e.url,n=e.currentPage,r=Math.ceil(t/a),i=Array(r).fill(1);return i<2?null:Object(c.jsx)("div",{children:Object(c.jsx)("ul",{className:G.a.list,children:i.map((function(e,t){return Object(c.jsx)(M,{currentPage:n,page:t+1,url:s},t)}))})})},Z=a(26),H=a(18),J=a.n(H),K=function(e){var t=e.initialValues,a=e.errors,n=e.onSubmit,r=Object(s.useState)(""),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(s.useState)(""),u=Object(l.a)(b,2),d=u[0],m=u[1],O=Object(s.useState)(""),f=Object(l.a)(O,2),_=f[0],g=f[1],h=Object(s.useState)(""),p=Object(l.a)(h,2),v=p[0],N=p[1],S=Object(s.useState)([]),y=Object(l.a)(S,2),A=y[0],F=y[1];Object(s.useEffect)((function(){t&&(j(t.title),m(t.description),g(t.body),F(t.tagList))}),[t]);return Object(c.jsxs)("div",{className:J.a.page,children:[a&&Object(c.jsx)(x,{backendError:a}),Object(c.jsxs)("form",{className:J.a.form,onSubmit:function(e){e.preventDefault(),n({title:o,description:d,body:_,tagList:A})},children:[Object(c.jsx)("input",{className:J.a.title,type:"text",placeholder:"Article Title",value:o,onChange:function(e){return j(e.target.value)}}),Object(c.jsx)("input",{className:J.a.description,type:"text",placeholder:"What's this article about?",value:d,onChange:function(e){return m(e.target.value)}}),Object(c.jsx)("textarea",{className:J.a.body,placeholder:"Write your article",value:_,onChange:function(e){return g(e.target.value)}}),Object(c.jsx)("input",{className:J.a.tags,type:"text",placeholder:"Enter tags",value:v,onChange:function(e){return N(e.target.value)},onKeyPress:function(e){"Enter"===e.code&&(e.preventDefault(),N(""),A.indexOf(v)>=0||F([].concat(Object(Z.a)(A),[e.target.value])))}}),Object(c.jsx)("ul",{className:J.a.tagList,children:A.map((function(e,t){return Object(c.jsxs)("li",{className:J.a.tag,children:[Object(c.jsx)("i",{className:"fas fa-times",onClick:function(){return function(e){var t=[].concat(Object(Z.a)(A.slice(0,e)),Object(Z.a)(A.slice(e+1)));F(t)}(t)}}),e]},e+t)}))}),Object(c.jsx)("input",{className:J.a.button,type:"submit",placeholder:"Article Title",value:"Publish Article"})]})]})},V=a(32),z=a.n(V),X=function(e){var t=e.isFollowing,a=e.userSlug,n="/profiles/".concat(a,"/follow"),r=E(n),i=Object(l.a)(r,2),j=i[0].response,b=i[1],u=Object(o.g)(),d=Object(s.useContext)(O),m=Object(l.a)(d,1)[0],f=j?j.profile.following:t;return Object(c.jsxs)("button",{onClick:function(){!1!==m.isLoggedIn?b({method:f?"delete":"post"}):u.push("/login")},className:N()(z.a.btn,Object(p.a)({},z.a.btnFollowing,f)),children:[Object(c.jsx)("i",{className:N()("fas fa-plus",z.a.icon)}),"".concat(f?"Unfollow":"Follow"," ").concat(a)]})},q=function(){return Object(c.jsx)("div",{children:"Some error has occured"})},Q=a(20),W=a.n(Q),Y={borderBottom:"2px solid green",color:"green"},$=function(e){var t=e.tagName,a=Object(s.useContext)(O),n=Object(l.a)(a,1)[0].isLoggedIn?"/feed":"/login";return Object(c.jsx)("div",{className:W.a.feedBar,children:Object(c.jsxs)("ul",{className:W.a.list,children:[Object(c.jsx)("li",{className:W.a.item,children:Object(c.jsx)(i.c,{to:n,className:W.a.link,activeStyle:Y,children:"Your Feed"})}),Object(c.jsx)("li",{className:W.a.item,children:Object(c.jsx)(i.c,{to:"/",className:W.a.link,activeStyle:Y,exact:!0,children:"Global Feed"})}),t&&Object(c.jsx)("li",{className:W.a.item,children:Object(c.jsxs)(i.c,{to:"/tags/".concat(t),activeStyle:Y,className:W.a.link,exact:!0,children:["#",t]})})]})})},ee=(a(89),function(){return Object(c.jsx)("div",{className:"loadingio-spinner-double-ring-urzqixydvu",children:Object(c.jsxs)("div",{className:"ldio-cpz8mm576tv",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})})]})})}),te=a(33),ae=a.n(te),ce=function(){var e=E("/tags"),t=Object(l.a)(e,2),a=t[0],n=a.response,r=a.error,o=a.isLoading,j=t[1];return Object(s.useEffect)((function(){j()}),[j]),r?Object(c.jsx)(q,{}):o||!n?Object(c.jsx)(ee,{}):Object(c.jsxs)("div",{className:ae.a.sidebar,children:[Object(c.jsx)("p",{children:"Popular tags"}),Object(c.jsx)("div",{className:ae.a.tagsList,children:n.tags.map((function(e,t){return Object(c.jsx)(i.b,{to:"/tags/".concat(e),className:ae.a.item,children:e},e+t)}))})]})},se=a(19),ne=a.n(se),re=a(21),ie=a.n(re),oe=function(e){var t=e.onAddedComment,a=e.articleSlug,n=e.currentUser,r="/articles/".concat(a,"/comments"),o=E(r),j=Object(l.a)(o,2),b=j[0],u=b.response,d=b.error,m=j[1],O=Object(s.useState)(""),f=Object(l.a)(O,2),_=f[0],g=f[1],h=Object(s.useState)(!1),p=Object(l.a)(h,2),v=p[0],N=p[1];return Object(s.useEffect)((function(){u&&(g(""),t(u.comment),N(!1))}),[u,t]),Object(s.useEffect)((function(){d&&N(!0)}),[d]),n.isLoggedIn?Object(c.jsxs)(c.Fragment,{children:[v&&Object(c.jsx)(x,{backendError:d.errors}),Object(c.jsxs)("form",{className:ie.a.postForm,onSubmit:function(e){e.preventDefault(),m({method:"post",data:{comment:{body:_}}})},children:[Object(c.jsx)("textarea",{className:ie.a.postBody,placeholder:"Write a comment...",value:_,onChange:function(e){return g(e.target.value)}}),Object(c.jsxs)("div",{className:ie.a.postMeta,children:[Object(c.jsx)("img",{src:n.currentUser.image,alt:"1",className:ie.a.postImg}),Object(c.jsx)("input",{type:"submit",className:ie.a.postBtn,value:"Post Comment"})]})]})]}):Object(c.jsxs)("div",{className:ie.a.notLogged,children:[Object(c.jsx)(i.b,{to:"/login",className:ie.a.link,children:"Sign in"})," ","or"," ",Object(c.jsxs)(i.b,{to:"/register",className:ie.a.link,children:[" ","sign up"," "]}),"to add comments on this article."]})},le=a(24),je=10,be=function(e){var t=Object(le.parse)(e),a=t.page?+t.page:1;return{currentPage:a,offset:(a-1)*je}},ue=function(e,t){return!!e.isLoggedIn&&e.currentUser.username===t},de=function(e){var t=e.articleSlug,a="/articles/".concat(t,"/comments"),n=E(a),r=Object(l.a)(n,2),o=r[0],j=o.response,b=o.error,u=o.loading,d=r[1],m=Object(s.useState)([]),f=Object(l.a)(m,2),_=f[0],g=f[1],h=Object(s.useState)(null),x=Object(l.a)(h,2),p=x[0],v=x[1],N=Object(s.useState)(null),S=Object(l.a)(N,2),y=S[0],A=S[1],F=Object(s.useContext)(O),C=Object(l.a)(F,1)[0],k="/articles/".concat(t,"/comments/").concat(y),L=E(k),P=Object(l.a)(L,2),w=P[0].response,U=P[1];return Object(s.useEffect)((function(){d()}),[d]),Object(s.useEffect)((function(){j&&g(j.comments)}),[j]),Object(s.useEffect)((function(){p&&g((function(e){return[p].concat(Object(Z.a)(e))}))}),[g,p]),Object(s.useEffect)((function(){null!==y&&U({method:"delete"})}),[U,y]),Object(s.useEffect)((function(){w&&g((function(e){return e.filter((function(e){return e.id!==y}))}))}),[w]),Object(c.jsxs)("div",{className:ne.a.commentsPage,children:[Object(c.jsx)(oe,{onAddedComment:v,articleSlug:t,currentUser:C}),b&&Object(c.jsx)(q,{}),(u||!j)&&Object(c.jsx)(ee,{}),!u&&j&&Object(c.jsx)("ul",{className:ne.a.comments,children:_.map((function(e){var t=e.body,a=e.id,s=e.createdAt,n=e.author,r=n.username,o=n.image;return Object(c.jsxs)("li",{className:ne.a.comment,children:[Object(c.jsx)("div",{className:ne.a.commentBody,children:t}),Object(c.jsxs)("div",{className:ne.a.commentMeta,children:[Object(c.jsx)(i.b,{to:"/profiles/".concat(r),children:Object(c.jsx)("img",{src:o,alt:"2",className:ne.a.img})}),Object(c.jsx)(i.b,{to:"/profiles/".concat(r),className:ne.a.name,children:r}),Object(c.jsx)("span",{className:ne.a.date,children:s.split("T")[0]}),ue(C,r)&&Object(c.jsx)("span",{className:ne.a.delete,onClick:function(){return A(a)},children:Object(c.jsx)("i",{className:"fas fa-trash-alt"})})]})]},a)}))})]})},me=a(53),Oe=a(54),fe=a(57),_e=a(56),ge=function(e){Object(fe.a)(a,e);var t=Object(_e.a)(a);function a(){var e;Object(me.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={hasError:!1},e}return Object(Oe.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(c.jsx)(q,{}):this.props.children}}]),a}(s.Component),he=function(e){var t=e.children,a=E("/user"),c=Object(l.a)(a,2),n=c[0].response,r=c[1],i=Object(s.useContext)(O),o=Object(l.a)(i,2)[1],j=C("token"),b=Object(l.a)(j,1)[0];return Object(s.useEffect)((function(){b?(r(),o({type:"LOADING"})):o({type:"SET_UNAUTHORIZED"})}),[b,o,r]),Object(s.useEffect)((function(){n&&o({type:"SET_AUTHORIZED",payload:n.user})}),[n,o]),t},xe=a(7),pe=a.n(xe),ve=function(e){var t=e.match,a=Object(s.useContext)(O),n=Object(l.a)(a,1)[0],r=Object(s.useState)(!1),j=Object(l.a)(r,2),b=j[0],u=j[1],d=t.params.slug,m="/articles/".concat(d),f=E(m),_=Object(l.a)(f,2),g=_[0],h=g.response,x=g.error,p=g.isLoading,v=_[1],S=E(m),y=Object(l.a)(S,2),A=y[0].response,F=y[1];Object(s.useEffect)((function(){v()}),[v]),Object(s.useEffect)((function(){A&&u(!0)}),[A]);if(x)return Object(c.jsx)(q,{});if(p||!h)return Object(c.jsx)(ee,{});if(b)return Object(c.jsx)(o.a,{to:"/"});var C=h.article,k=C.title,P=C.createdAt,w=C.tagList,T=C.body,I=C.favoritesCount,D=C.favorited,B=C.author,G=B.username,M=B.image,R=B.following;return Object(c.jsxs)("div",{className:pe.a.page,children:[Object(c.jsxs)("div",{className:pe.a.banner,children:[Object(c.jsx)("h1",{className:pe.a.title,children:k}),Object(c.jsxs)("div",{className:pe.a.row,children:[Object(c.jsxs)("div",{className:pe.a.meta,children:[Object(c.jsx)(i.b,{to:"/profiles/".concat(G),className:pe.a.photo,children:Object(c.jsx)("img",{src:M,alt:""})}),Object(c.jsxs)("div",{className:pe.a.info,children:[Object(c.jsx)(i.b,{to:"/profiles/".concat(G),className:pe.a.author,children:G}),Object(c.jsx)("span",{className:pe.a.date,children:P.split("T")[0]})]})]}),ue(n,G)?Object(c.jsxs)("div",{className:pe.a.buttons,children:[Object(c.jsxs)(i.b,{to:"/articles/".concat(d,"/edit"),className:pe.a.btn,children:[Object(c.jsx)("i",{className:N()("fas fa-pencil-alt",pe.a.icon)}),"Edit Article"]}),Object(c.jsxs)("button",{className:N()(pe.a.btn,pe.a.btnRed),onClick:function(){F({method:"DELETE"})},children:[Object(c.jsx)("i",{className:N()("fas fa-trash-alt",pe.a.icon)}),"Delete Article"]})]}):Object(c.jsxs)("div",{className:pe.a.buttons,children:[Object(c.jsx)(X,{isFollowing:R,userSlug:G}),Object(c.jsx)(L,{favoritesCount:I,isFavorited:D,articleSlug:d,hasLabel:!0})]})]})]}),Object(c.jsxs)("div",{className:pe.a.content,children:[Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:pe.a.body,children:T})}),Object(c.jsx)(U,{tags:w})]}),Object(c.jsx)(de,{articleSlug:d})]})},Ne=a(22),Se=a.n(Ne),ye=function(e){var t="/login"===e.match.path,a=t?"Sign In":"Sign Up",n=t?"/register":"/login",r=t?"Need an account?":"Have an account?",j=t?"/users/login":"/users",b=Object(s.useState)(""),u=Object(l.a)(b,2),d=u[0],m=u[1],f=Object(s.useState)(""),_=Object(l.a)(f,2),g=_[0],h=_[1],p=Object(s.useState)(""),v=Object(l.a)(p,2),S=v[0],y=v[1],A=Object(s.useState)(!1),F=Object(l.a)(A,2),k=F[0],L=F[1],P=E(j),w=Object(l.a)(P,2),U=w[0],T=U.isLoading,I=U.response,D=U.error,B=w[1],G=C("token"),M=Object(l.a)(G,2)[1],R=Object(s.useContext)(O),Z=Object(l.a)(R,2)[1];return Object(s.useEffect)((function(){I&&(M(I.user.token),L(!0),y(""),m(""),h(""),Z({type:"SET_AUTHORIZED",payload:I.user}))}),[I,M,Z]),k?Object(c.jsx)(o.a,{to:"/"}):Object(c.jsxs)("div",{className:Se.a.auth,children:[Object(c.jsx)("h1",{className:Se.a.title,children:a}),Object(c.jsx)(i.b,{to:n,className:Se.a.ref,children:r}),Object(c.jsxs)("form",{className:Se.a.form,onSubmit:function(e){e.preventDefault(),B({method:"post",data:{user:t?{email:d,password:g}:{username:S,email:d,password:g}}})},children:[D&&Object(c.jsx)(x,{backendError:D.errors}),!t&&Object(c.jsx)("input",{type:"text",placeholder:"Username",className:Se.a.input,value:S,onChange:function(e){return y(e.target.value)}}),Object(c.jsx)("input",{type:"email",placeholder:"Email",className:Se.a.input,value:d,onChange:function(e){return m(e.target.value)}}),Object(c.jsx)("input",{type:"password",placeholder:"Password",className:Se.a.input,value:g,onChange:function(e){return h(e.target.value)}}),Object(c.jsx)("button",{type:"submit",className:N()(Se.a.submit),disabled:T,children:a})]})]})},Ae={title:"",body:"",description:"",tagList:[]},Fe=function(){var e=E("/articles"),t=Object(l.a)(e,2),a=t[0],n=a.response,r=a.error,i=t[1],j=Object(s.useState)(!1),b=Object(l.a)(j,2),u=b[0],d=b[1],m=Object(s.useContext)(O),f=Object(l.a)(m,1)[0];return Object(s.useEffect)((function(){n&&d(!0)}),[n]),!1===f.isLoggedIn?Object(c.jsx)(o.a,{to:"/"}):u?Object(c.jsx)(o.a,{to:"/articles/".concat(n.article.slug)}):Object(c.jsx)(K,{errors:r&&r.errors,initialValues:Ae,onSubmit:function(e){i({method:"post",data:{article:e}})}})},Ce=function(e){var t=e.match,a=Object(s.useState)(!1),n=Object(l.a)(a,2),r=n[0],i=n[1],j=Object(s.useState)(null),b=Object(l.a)(j,2),u=b[0],d=b[1],m=Object(s.useContext)(O),f=Object(l.a)(m,1)[0],_="/articles/".concat(t.params.slug),g=E(_),h=Object(l.a)(g,2),x=h[0].response,p=h[1],v=E(_),N=Object(l.a)(v,2),S=N[0],y=S.response,A=S.error,F=N[1];Object(s.useEffect)((function(){p()}),[p]),Object(s.useEffect)((function(){x&&d({title:x.article.title,description:x.article.description,body:x.article.body,tagList:x.article.tagList})}),[x]),Object(s.useEffect)((function(){y&&i(!0)}),[y]);return!1===f.isLoggedIn?Object(c.jsx)(o.a,{to:"/"}):r?Object(c.jsx)(o.a,{to:"/articles/".concat(y.article.slug)}):Object(c.jsx)(K,{errors:A&&A.errors,initialValues:u,onSubmit:function(e){F({method:"put",data:{article:e}})}})},Ee=a(11),ke=a.n(Ee),Le=function(e){var t=e.location,a=e.match,n=be(t.search),r=n.offset,i=n.currentPage,o=Object(le.stringify)({limit:je,offset:r}),j="/articles".concat("/feed"===a.path?"/feed":"","?").concat(o),b=E(j),u=Object(l.a)(b,2),d=u[0],m=d.response,O=d.isLoading,f=d.error,_=u[1];return Object(s.useEffect)((function(){_()}),[_,i,j]),Object(c.jsxs)("div",{className:ke.a.homepage,children:[Object(c.jsxs)("div",{className:ke.a.banner,children:[Object(c.jsx)("h1",{className:ke.a.title,children:"Medium clone"}),Object(c.jsx)("p",{children:"A place to share knowledge"}),Object(c.jsxs)("p",{className:ke.a.origin,children:["Original:"," ",Object(c.jsx)("a",{href:"http://angular.realworld.io/",target:"blank",children:"http://angular.realworld.io/"})]})]}),Object(c.jsxs)("div",{className:ke.a.content,children:[Object(c.jsxs)("div",{className:ke.a.left,children:[Object(c.jsx)($,{}),Object(c.jsxs)("div",{className:ke.a.articles,children:[O&&Object(c.jsx)(ee,{}),f&&Object(c.jsx)(q,{}),!O&&m&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(D,{articles:m.articles}),Object(c.jsx)(R,{total:m.articlesCount,limit:je,url:a.url,currentPage:i})]})]})]}),Object(c.jsx)(ce,{})]})]})},Pe=a(8),we=a.n(Pe),Ue=function(){var e=Object(s.useContext)(O),t=Object(l.a)(e,2),a=t[0],n=t[1],r=C("token"),i=Object(l.a)(r,2)[1],j=Object(s.useState)(!1),b=Object(l.a)(j,2),d=b[0],m=b[1],f=Object(s.useState)(""),_=Object(l.a)(f,2),g=_[0],h=_[1],p=Object(s.useState)(""),v=Object(l.a)(p,2),S=v[0],y=v[1],A=Object(s.useState)(null),F=Object(l.a)(A,2),k=F[0],L=F[1],P=Object(s.useState)(""),w=Object(l.a)(P,2),U=w[0],T=w[1],I=Object(s.useState)(""),D=Object(l.a)(I,2),B=D[0],G=D[1],M=E("/user"),R=Object(l.a)(M,2),Z=R[0],H=Z.response,J=Z.error,K=R[1];return Object(s.useEffect)((function(){if(a.currentUser){var e=a.currentUser;h(e.image),y(e.username),L(e.bio),T(e.email)}}),[a]),Object(s.useEffect)((function(){H&&(m(!0),n({type:"SET_AUTHORIZED",payload:H.user}))}),[H,n]),!1===a.isLoggedIn?Object(c.jsx)(o.a,{to:"/"}):d?Object(c.jsx)(o.a,{to:"/profiles/".concat(S)}):Object(c.jsxs)("div",{className:we.a.settings,children:[Object(c.jsx)("h1",{className:we.a.title,children:"Your Settings"}),J&&Object(c.jsx)(x,{backendError:J.errors}),Object(c.jsxs)("form",{className:we.a.form,onSubmit:function(e){e.preventDefault(),K({method:"put",data:{user:Object(u.a)(Object(u.a)({},a.currentUser),{},{image:g,username:S,bio:k,email:U,password:B})}})},children:[Object(c.jsx)("input",{type:"text",value:g,onChange:function(e){return h(e.target.value)},className:N()(we.a.input,we.a.imageUrl),placeholder:"URL of profile picture"}),Object(c.jsx)("input",{type:"text",value:S,onChange:function(e){return y(e.target.value)},className:N()(we.a.input,we.a.username),placeholder:"Username"}),Object(c.jsx)("textarea",{value:k||"",onChange:function(e){return L(e.target.value)},className:N()(we.a.input,we.a.bio),placeholder:"Short bio about you"}),Object(c.jsx)("input",{type:"email",value:U,onChange:function(e){return T(e.target.value)},className:N()(we.a.input,we.a.email),placeholder:"Email"}),Object(c.jsx)("input",{type:"password",value:B,onChange:function(e){return G(e.target.value)},className:N()(we.a.input,we.a.password),placeholder:"New Password"}),Object(c.jsx)("input",{type:"submit",className:we.a.submit,value:"Update Settings"})]}),Object(c.jsx)("button",{className:we.a.logout,onClick:function(){i(""),n({type:"LOGOUT"})},children:"Or click here to logout"})]})},Te=a(9),Ie=a.n(Te),De=a(55),Be=a.n(De),Ge=function(e){var t=e.location,a=e.isFavorites,n=e.username,r=be(t.search),i=r.offset,o=r.currentPage,j=Object(le.stringify)({limit:je,offset:i}),b="/articles?".concat(a?"favorited":"author","=").concat(n,"&").concat(j),u=E(b),d=Object(l.a)(u,2),m=d[0],O=m.response,f=m.isLoading,_=m.error,g=d[1];return Object(s.useEffect)((function(){g()}),[g,o,b]),Object(c.jsxs)("div",{className:Be.a.articles,children:[f&&Object(c.jsx)(ee,{}),_&&Object(c.jsx)(q,{}),!f&&O&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(D,{articles:O.articles}),Object(c.jsx)(R,{total:O.articlesCount,limit:je,url:t.pathname,currentPage:o})]})]})},Me=function(e){var t=e.match,a=e.location,n=a.pathname.includes("favorites"),r="/profiles/".concat(t.params.slug),o=E(r),j=Object(l.a)(o,2),b=j[0],u=b.response,d=b.error,m=b.isLoading,f=j[1],_=Object(s.useContext)(O),g=Object(l.a)(_,1)[0];if(Object(s.useEffect)((function(){f()}),[f,t.params.slug]),d)return Object(c.jsx)(q,{});if(m||!u)return Object(c.jsx)(ee,{});var h=u.profile,x=h.image,p=h.username,v=h.following,S=h.bio;return Object(c.jsxs)("div",{className:Ie.a.profile,children:[Object(c.jsxs)("div",{className:Ie.a.banner,children:[Object(c.jsx)("div",{className:Ie.a.userPhoto,children:Object(c.jsx)("img",{src:x,alt:"",className:Ie.a.img})}),Object(c.jsx)("h3",{className:Ie.a.name,children:p}),Object(c.jsx)("div",{className:Ie.a.bio,children:Object(c.jsx)("p",{children:S})}),Object(c.jsx)("span",{className:Ie.a.btn,children:ue(g,p)?Object(c.jsxs)(i.b,{to:"/settings",className:Ie.a.btnEdit,children:[Object(c.jsx)("i",{className:N()("fas fa-cog",Ie.a.icon)}),"Edit Profile Settings"]}):Object(c.jsx)(X,{isFollowing:v,userSlug:p})})]}),Object(c.jsx)("div",{className:Ie.a.toggler,children:Object(c.jsxs)("ul",{className:Ie.a.links,children:[Object(c.jsx)("li",{className:Ie.a.li,children:Object(c.jsx)(i.c,{to:r,className:Ie.a.link,activeStyle:{borderBottom:"2px solid green",color:"green"},exact:!0,children:"User's Posts"})}),Object(c.jsx)("li",{className:Ie.a.li,children:Object(c.jsx)(i.c,{to:r+"/favorites",className:Ie.a.link,activeStyle:{borderBottom:"2px solid green",color:"green"},children:"Favorited Posts"})})]})}),Object(c.jsx)(Ge,{username:p,location:a,isFavorites:n})]})},Re=function(e){var t=e.location,a=e.match,n=a.params.slug,r=be(t.search),i=r.offset,o=r.currentPage,j=Object(le.stringify)({limit:je,offset:i,tag:n}),b="/articles?".concat(j),u=E(b),d=Object(l.a)(u,2),m=d[0],O=m.response,f=m.isLoading,_=m.error,g=d[1];return Object(s.useEffect)((function(){g()}),[g,o,n]),Object(c.jsxs)("div",{className:ke.a.homepage,children:[Object(c.jsxs)("div",{className:ke.a.banner,children:[Object(c.jsx)("h1",{className:ke.a.title,children:"Medium clone"}),Object(c.jsx)("p",{children:"A place to share knowledge"})]}),Object(c.jsxs)("div",{className:ke.a.content,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)($,{tagName:n}),Object(c.jsxs)("div",{className:ke.a.articles,children:[f&&Object(c.jsx)(ee,{}),_&&Object(c.jsx)(q,{}),!f&&O&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(D,{articles:O.articles}),Object(c.jsx)(R,{total:O.articlesCount,limit:je,url:a.url,currentPage:o})]})]})]}),Object(c.jsx)(ce,{})]})]})},Ze=function(){return Object(c.jsx)(ge,{children:Object(c.jsx)(f,{children:Object(c.jsx)(he,{children:Object(c.jsx)(i.a,{children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(_,{}),Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{path:"/",exact:!0,component:Le}),Object(c.jsx)(o.b,{path:"/articles/new",component:Fe}),Object(c.jsx)(o.b,{path:"/articles/:slug/edit",component:Ce}),Object(c.jsx)(o.b,{path:"/settings",component:Ue}),Object(c.jsx)(o.b,{path:"/feed",component:Le}),Object(c.jsx)(o.b,{path:"/tags/:slug",component:Re}),Object(c.jsx)(o.b,{path:"/login",component:ye}),Object(c.jsx)(o.b,{path:"/register",component:ye}),Object(c.jsx)(o.b,{path:"/articles/:slug/",component:ve}),Object(c.jsx)(o.b,{path:"/profiles/:slug",component:Me}),Object(c.jsx)(o.b,{path:"/profiles/:slug/favorites",component:Me}),Object(c.jsx)(o.b,{render:function(){return Object(c.jsx)("h2",{children:"Page not fount"})}})]})]})})})})})};r.a.render(Object(c.jsx)(Ze,{}),document.getElementById("root"))},11:function(e,t,a){e.exports={banner:"GlobalFeed_banner__1T8OO",origin:"GlobalFeed_origin__32sUV",title:"GlobalFeed_title__2u36j",content:"GlobalFeed_content__2OhJ6"}},16:function(e,t,a){e.exports={article:"Feed_article__2iXG2",meta:"Feed_meta__2fraO",row:"Feed_row__tvbz8",photo:"Feed_photo__3mqCc",info:"Feed_info__1uyL3",author:"Feed_author__fQXqc",title:"Feed_title__YAZll",description:"Feed_description__3NVAT",more:"Feed_more__8nCQN"}},17:function(e,t,a){e.exports={navbar:"TopBar_navbar__1GAsD",logo:"TopBar_logo__1MnC_",link:"TopBar_link__2fSSe",photo:"TopBar_photo__2vV_w"}},18:function(e,t,a){e.exports={page:"ArticleForm_page__3ivba",form:"ArticleForm_form__3ArLt",title:"ArticleForm_title__3oC7i",body:"ArticleForm_body__1254-",button:"ArticleForm_button__1IomL",tagList:"ArticleForm_tagList__19JtM",tag:"ArticleForm_tag__2NExF"}},19:function(e,t,a){e.exports={commentsPage:"ArticleComments_commentsPage__wuJLI",comments:"ArticleComments_comments__2G-y0",comment:"ArticleComments_comment__2kTEf",commentBody:"ArticleComments_commentBody__2nhED",commentMeta:"ArticleComments_commentMeta__2N8ph",img:"ArticleComments_img__19JDS",name:"ArticleComments_name__1NHwc",delete:"ArticleComments_delete__2DICL"}},20:function(e,t,a){e.exports={list:"FeedToggler_list__12fN6",link:"FeedToggler_link__3xsso"}},21:function(e,t,a){e.exports={postBody:"PostCommentForm_postBody__306CU",postMeta:"PostCommentForm_postMeta__2vId8",postImg:"PostCommentForm_postImg__3x8qH",postBtn:"PostCommentForm_postBtn__37sI2",notLogged:"PostCommentForm_notLogged__3kIaT",link:"PostCommentForm_link__NoZa9"}},22:function(e,t,a){e.exports={auth:"Authentication_auth__2ZhOk",title:"Authentication_title__ypfxe",ref:"Authentication_ref__ARRd0",form:"Authentication_form__d5e3I",input:"Authentication_input__XnF3G",submit:"Authentication_submit__iKuiG",disabled:"Authentication_disabled__vJ2da"}},29:function(e,t,a){e.exports={btn:"AddToFavorites_btn__1jzNZ",btnGreen:"AddToFavorites_btnGreen__hmtFH",icon:"AddToFavorites_icon__3teK_",btnFavorited:"AddToFavorites_btnFavorited__3D4rJ"}},30:function(e,t,a){e.exports={list:"Pagination_list__1klkw",link:"Pagination_link__Mwkjs",active:"Pagination_active__mTnQP"}},32:function(e,t,a){e.exports={btn:"AddToFollowing_btn__eb1EZ",icon:"AddToFollowing_icon__2ptju",btnFollowing:"AddToFollowing_btnFollowing__lG2KL"}},33:function(e,t,a){e.exports={sidebar:"PopularTags_sidebar__P1i8K",tagsList:"PopularTags_tagsList__7bZbN",item:"PopularTags_item__3Ndjv"}},39:function(e,t,a){e.exports={tagList:"TagList_tagList__3p7tK",tag:"TagList_tag__22bhs"}},51:function(e,t,a){e.exports={errors:"BackendErrorMessages_errors__1bapI"}},55:function(e,t,a){},63:function(e,t,a){},7:function(e,t,a){e.exports={banner:"Article_banner__1wZd4",title:"Article_title__eHlwn",meta:"Article_meta__1sfk2",photo:"Article_photo__16ji4",info:"Article_info__xg19B",author:"Article_author__1KDu3",content:"Article_content__2ysCh",body:"Article_body__3vFFj",row:"Article_row__2AkFj",buttons:"Article_buttons__1DJv4",btn:"Article_btn__2gm_X",btnRed:"Article_btnRed__3Xmlw",btnGreen:"Article_btnGreen__2GLfb",icon:"Article_icon__jfdrq",btnFavorited:"Article_btnFavorited__1fj2A",btnFollowing:"Article_btnFollowing__7An5u"}},8:function(e,t,a){e.exports={settings:"Settings_settings__2Z0bt",title:"Settings_title__17XyJ",form:"Settings_form__3QME9",input:"Settings_input__1csku",imageUrl:"Settings_imageUrl__3Opfw",bio:"Settings_bio__3y0R1",submit:"Settings_submit__F0W_E",logout:"Settings_logout__3Clg3"}},89:function(e,t,a){},9:function(e,t,a){e.exports={profile:"UserProfile_profile__3pc7a",banner:"UserProfile_banner__1Xdh0",userPhoto:"UserProfile_userPhoto__Mps7-",img:"UserProfile_img__1ktFx",name:"UserProfile_name__3loKV",bio:"UserProfile_bio__29FIz",btn:"UserProfile_btn__3NuUI",btnEdit:"UserProfile_btnEdit__2IVrB",links:"UserProfile_links__2nqsl",link:"UserProfile_link__2xzBb",icon:"UserProfile_icon__78YFM"}}},[[102,1,2]]]);
//# sourceMappingURL=main.effa34b2.chunk.js.map